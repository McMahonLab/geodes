---
title: "Lazy Run"
author: "Alex Linz"
date: "April 25, 2017"
output: html_document
---
# No, you can't take a shortcut.
This lazy run workflow is a streamlined version of the full workflow, intended to be run after you've already worked out the kinks in the full workflow specific to your files and system. Modify it based on what you've learned while running the full workflow and it should speed things up if you have to re-run the analysis.

Last updated 2017-04-25

### rRNA removal

```{bash, eval = F}
mkdir /mnt/gluster/amlinz/GEODES_metaT_split/
for file in /mnt/gluster/amlinz/GEODES_metaT/*; do sample=$(basename $file |cut -d'.' -f1); echo $sample;done > samplenames.txt
condor_submit submits/00split_fastq.sub
#Wait for all jobs to finish

mkdir /mnt/gluster/amlinz/GEODES_nonrRNA_split/
mkdir /mnt/gluster/amlinz/GEODES_rRNA_split/
find /mnt/gluster/amlinz/GEODES_metaT_split/ -type f > path2splitfastqs.txt
condor_submit submits/01rRNA_removal.sub
#Wait

condor_submit submits/02cat_files.sub
#Wait

cat *_rRNA_results.txt > GEODES_rRNA_ratios.txt
#Download results
rm *.err
rm *.log
rm *.out
```

### Mapping

```{bash, eval = F}
rm /mnt/gluster/amlinz/GEODES_mapping_results/*
condor_submit submits/04build_index.sub
# Wait for job to finish, probably for at least a day

condor_submit -i install_samtools.sub
# Wait for job to start
tar xvfj samtools-1.3.1.tar.bz2
cd samtools-1.3.1
make
make prefix=../samtools install
cd ..
ls samtools
tar czvf samtools.tar.gz samtools/
ls
exit
mv samtools.tar.gz zipped/samtools.tar.gz

ls /mnt/gluster/amlinz/GEODES_nonrRNA_concat/ > path2mappingfastqs.txt
condor_submit submits/05mapping.sub
# Wait for all jobs to finish

rm *.err
rm *.log
rm *.out
```
